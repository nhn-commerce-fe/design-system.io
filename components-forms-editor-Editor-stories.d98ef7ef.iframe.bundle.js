"use strict";(self.webpackChunk_ncds_ui=self.webpackChunk_ncds_ui||[]).push([[621],{"./src/components/forms/editor/Editor.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Editor_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/react/index.js"),jquery=__webpack_require__("../../node_modules/jquery/dist/jquery.js"),jquery_default=__webpack_require__.n(jquery),koreanLang=(__webpack_require__("../../node_modules/summernote/dist/summernote-lite.min.js"),{font:{bold:"굵게",italic:"기울임꼴",underline:"밑줄",clear:"서식 지우기",height:"줄 간격",name:"글꼴",superscript:"위 첨자",subscript:"아래 첨자",strikethrough:"취소선",size:"글자 크기"},image:{image:"그림",insert:"그림 삽입",resizeFull:"100% 크기로 변경",resizeHalf:"50% 크기로 변경",resizeQuarter:"25% 크기로 변경",resizeNone:"원본 크기",floatLeft:"왼쪽 정렬",floatRight:"오른쪽 정렬",floatNone:"정렬하지 않음",shapeRounded:"스타일: 둥근 모서리",shapeCircle:"스타일: 원형",shapeThumbnail:"스타일: 액자",shapeNone:"스타일: 없음",dragImageHere:"텍스트 혹은 사진을 이곳으로 끌어오세요",dropImage:"텍스트 혹은 사진을 내려놓으세요",selectFromFiles:"파일 선택",maximumFileSize:"최대 파일 크기",maximumFileSizeError:"최대 파일 크기를 초과했습니다.",url:"사진 URL",remove:"사진 삭제",original:"원본"},video:{video:"동영상",videoLink:"동영상 링크",insert:"동영상 삽입",url:"동영상 URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku 사용 가능)"},link:{link:"링크",insert:"링크 삽입",unlink:"링크 삭제",edit:"수정",textToDisplay:"링크에 표시할 내용",url:"이동할 URL",openInNewWindow:"새창으로 열기"},table:{table:"표",addRowAbove:"위에 행 삽입",addRowBelow:"아래에 행 삽입",addColLeft:"왼쪽에 열 삽입",addColRight:"오른쪽에 열 삽입",delRow:"행 지우기",delCol:"열 지우기",delTable:"표 삭제"},hr:{insert:"구분선 삽입"},style:{style:"스타일",p:"본문",blockquote:"인용구",pre:"코드",h1:"제목 1",h2:"제목 2",h3:"제목 3",h4:"제목 4",h5:"제목 5",h6:"제목 6"},lists:{unordered:"글머리 기호",ordered:"번호 매기기"},options:{help:"도움말",fullscreen:"전체 화면",codeview:"코드 보기"},paragraph:{paragraph:"문단 정렬",outdent:"내어쓰기",indent:"들여쓰기",left:"왼쪽 정렬",center:"가운데 정렬",right:"오른쪽 정렬",justify:"양쪽 정렬"},color:{recent:"마지막으로 사용한 색",more:"다른 색 선택",background:"배경색",foreground:"글자색",transparent:"투명",setTransparent:"투명으로 설정",reset:"취소",resetToDefault:"기본값으로 설정",cpSelect:"고르다"},shortcut:{shortcuts:"키보드 단축키",close:"닫기",textFormatting:"글자 스타일 적용",action:"기능",paragraphFormatting:"문단 스타일 적용",documentStyle:"문서 스타일 적용",extraKeys:"추가 키"},help:{insertParagraph:"문단 삽입",undo:"마지막 명령 취소",redo:"마지막 명령 재실행",tab:"탭",untab:"탭 제거",bold:"굵은 글자로 설정",italic:"기울임꼴 글자로 설정",underline:"밑줄 글자로 설정",strikethrough:"취소선 글자로 설정",removeFormat:"서식 삭제",justifyLeft:"왼쪽 정렬하기",justifyCenter:"가운데 정렬하기",justifyRight:"오른쪽 정렬하기",justifyFull:"좌우채움 정렬하기",insertUnorderedList:"글머리 기호 켜고 끄기",insertOrderedList:"번호 매기기 켜고 끄기",outdent:"현재 문단 내어쓰기",indent:"현재 문단 들여쓰기",formatPara:"현재 블록의 포맷을 문단(P)으로 변경",formatH1:"현재 블록의 포맷을 제목1(H1)로 변경",formatH2:"현재 블록의 포맷을 제목2(H2)로 변경",formatH3:"현재 블록의 포맷을 제목3(H3)로 변경",formatH4:"현재 블록의 포맷을 제목4(H4)로 변경",formatH5:"현재 블록의 포맷을 제목5(H5)로 변경",formatH6:"현재 블록의 포맷을 제목6(H6)로 변경",insertHorizontalRule:"구분선 삽입","linkDialog.show":"링크 대화상자 열기"},history:{undo:"실행 취소",redo:"재실행"},specialChar:{specialChar:"특수문자",select:"특수문자를 선택하세요"}}),__assign=function(){return __assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)},replace=function(summernote,value){void 0===value&&(value="");var $container=summernote.parent(),noteEditable=$container.find(".note-editable"),notePlaceholder=$container.find(".note-placeholder");noteEditable.html()===value||noteEditable.is(":focus")||(summernote.summernote("isEmpty")&&value.length?notePlaceholder.hide():value.length||notePlaceholder.show(),noteEditable.html(value))},ReactSummernote_ReactSummernote=(0,react.forwardRef)((function(_a,ref){var id=_a.id,_b=_a.options,options=void 0===_b?{}:_b,callbacks=_a.callbacks,_c=_a.disabled,disabled=void 0!==_c&&_c,_d=_a.className,className=void 0===_d?"":_d,_e=_a.contents,contents=void 0===_e?"":_e,onInit=_a.onInit,onImageUpload=_a.onImageUpload;_a.dependencies;(0,react.useImperativeHandle)(ref,(function(){return{focus}}));var _g=(0,react.useState)(),summernoteRef=_g[0],setSummernoteRef=_g[1];(0,react.useEffect)((function(){var summernoteRef=jquery_default()("#".concat(id)),summernoteCallbacks=__assign(__assign({},callbacks),{onInit:function(){var summernote;onInit({summernote:summernote=summernoteRef,replace:function(){return replace(summernote,contents)},focus:function(){return summernote.summernote("focus")},isEmpty:function(){return summernote.summernote("isEmpty")},reset:function(){return summernote.summernote("reset")},disable:function(){return summernote.summernote("disable")},enable:function(){return summernote.summernote("enable")},insertNode:function(){return summernote.summernote("editor.insertNode")},insertText:function(){return summernote.summernote("editor.insertText")},insertImage:function(){return summernote.summernote("editor.insertImage")}})}});return onImageUpload&&(summernoteCallbacks.onImageUpload=function(files){return function(files,summernote){onImageUpload&&onImageUpload(files,(function(url,fileName){var img=document.createElement("img");return img.src="".concat(url).concat(fileName),summernote.summernote("insertNode",img)}))}(files,summernoteRef)}),options.callbacks=summernoteCallbacks,jquery_default().extend(jquery_default().summernote.lang,{"ko-KR":koreanLang}),summernoteRef.summernote(__assign(__assign({},options),{lang:"ko-KR"})),summernoteRef.on("summernote.change.codeview",(function(_,value){var _a;null===(_a=null==callbacks?void 0:callbacks.onChange)||void 0===_a||_a.call(callbacks,value,summernoteRef)})),null==replace||replace(summernoteRef,contents),setSummernoteRef(summernoteRef),function(){summernoteRef.summernote("destroy")}}),[]);var focus=function(){null==summernoteRef||summernoteRef.summernote("focus")};return(0,react.useEffect)((function(){summernoteRef&&summernoteRef.summernote(disabled?"disable":"enable")}),[disabled,summernoteRef]),(0,react.useEffect)((function(){summernoteRef&&replace(summernoteRef,contents)}),[summernoteRef,contents]),(0,jsx_runtime.jsx)("div",{id,className,children:contents})}));const reactSummernote_ReactSummernote=(0,react.memo)(ReactSummernote_ReactSummernote);try{ReactSummernote_ReactSummernote.displayName="ReactSummernote",ReactSummernote_ReactSummernote.__docgenInfo={description:"",displayName:"ReactSummernote",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},contents:{defaultValue:{value:""},description:"",name:"contents",required:!1,type:{name:"string"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},options:{defaultValue:{value:"{}"},description:"",name:"options",required:!1,type:{name:"Options"}},callbacks:{defaultValue:null,description:"",name:"callbacks",required:!1,type:{name:"SummernoteCallbacks"}},onImageUpload:{defaultValue:null,description:"",name:"onImageUpload",required:!0,type:{name:"((files: Blob[], insertImage: InsertImage) => void) | null"}},onInit:{defaultValue:null,description:"",name:"onInit",required:!0,type:{name:"(init: SummernoteInitProps) => void"}},dependencies:{defaultValue:{value:"[]"},description:"",name:"dependencies",required:!1,type:{name:"DependencyList"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/editor/reactSummernote/ReactSummernote.tsx#ReactSummernote"]={docgenInfo:ReactSummernote_ReactSummernote.__docgenInfo,name:"ReactSummernote",path:"src/components/forms/editor/reactSummernote/ReactSummernote.tsx#ReactSummernote"})}catch(__react_docgen_typescript_loader_error){}var api=__webpack_require__("../api/index.ts"),axios=__webpack_require__("../../node_modules/axios/lib/axios.js"),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))((function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P((function(resolve){resolve(value)}))}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())}))},__generator=function(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return g.next=verb(0),g.throw=verb(1),g.return=verb(2),"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;g&&(g=0,op[0]&&(_=0)),_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=_.trys,(t=t.length>0&&t[t.length-1])||6!==op[0]&&2!==op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},uploadFile=function(files,container){return new Promise((function(resolve,reject){axios.A.all(Object.values(files).map((function(file){var data=new FormData,fileName=file.name.replace(" ","_");return data.append("file",file,decodeURIComponent(fileName)),data.append("container",container),function(data){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(_a){switch(_a.label){case 0:return[4,(0,api.$S)("/storage",{method:"POST",headers:{"Content-Type":"multipart/form-data"},data})];case 1:return[2,_a.sent()]}}))}))}(data)}))).then(axios.A.spread((function(){for(var responses=[],_i=0;_i<arguments.length;_i++)responses[_i]=arguments[_i];return resolve(responses)}))).catch((function(err){return reject(err)}))}))},handleImageUpload=function(container,url){return function(files,insertImage){Object.values(files).find((function(file){return file.size>5242880}))?alert("".concat(5,"MB 이하의 이미지만 업로드 가능합니다.")):uploadFile(files,container).then((function(responses){responses.map((function(res){return{fileName:res.data.uploadedFileName}})).forEach((function(_a){var fileName=_a.fileName;return insertImage(url,encodeURIComponent(encodeURIComponent(fileName)))}))})).catch((function(){Object.values(files).forEach((function(file){var reader=new FileReader;reader.onload=function(){var _a;return insertImage((null===(_a=reader.result)||void 0===_a?void 0:_a.toString())||"")},reader.readAsDataURL(file)}))}))}},initialToolbar=function(useImagesLoad){void 0===useImagesLoad&&(useImagesLoad=!1);var InsertGroupOptions=["link"];return useImagesLoad&&InsertGroupOptions.push("picture"),[["style",["style","bold","italic","underline","clear"]],["font",["fontname"]],["fontname",[""]],["fontsize",["fontsize"]],["color",["color"]],["para",["paragraph"]],["table",["table"]],["height",["height"]],["help",["help"]],["misc",["codeview"]],["insert",InsertGroupOptions]]},classnames=__webpack_require__("../../node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),STYLE_VALIDATION=[/[^:;]+: ;/g,/\s*:\s*var\([^;]\s*;?/g,/(?: --tw| -webkit)[^;]*;/g,/&quot;/g,/(?<!\b(?:margin|border(?:-inline|-block)?|padding-inline)\s*:\s*) \b[\w-]+\s*:\s*(?:unset|inherit|revert)\s*;/g,/\s*:\s*unset\s*;?/g,/\bclass\s*=\s*"[^"]*"\s*/g,/<meta[^;>]*>/g,/<!--[\s\S]*?-->/g,/[\r\n]/g],transformStyle=function(code){return STYLE_VALIDATION.reduce((function(transformedCode,pattern){return transformedCode.replace(pattern,"")}),code)},handlePaste=function(e){if(e.preventDefault(),e.target){var textData=e.originalEvent.clipboardData.getData("text"),htmlData=e.originalEvent.clipboardData.getData("text/html");!function(html){var sel=window.getSelection();if(sel){var range=sel.getRangeAt(0);range.deleteContents();var el=document.createElement("div");el.innerHTML=html;for(var frag=document.createDocumentFragment(),node=el.firstChild,lastNode=null;node;)lastNode=frag.appendChild(node),node=el.firstChild;lastNode&&(range.insertNode(frag),range.setStartAfter(lastNode),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range))}}(transformStyle(htmlData||textData))}},Editor_assign=function(){return Editor_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},Editor_assign.apply(this,arguments)},__rest=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},Editor=(0,react.forwardRef)((function(_a){var _b,_c,_d,label=_a.label,_e=_a.required,required=void 0!==_e&&_e,id=_a.id,_f=_a.className,className=void 0===_f?"":_f,_g=_a.destructive,destructive=void 0!==_g&&_g,_h=_a.contents,contents=void 0===_h?"":_h,_j=_a.disabled,disabled=void 0!==_j&&_j,callbacks=_a.callbacks,options=_a.options,_k=_a.container,container=void 0===_k?"storage-pub/commerce/editor":_k,onInit=_a.onInit,_l=_a.isCodeview,isCodeview=void 0!==_l&&_l,_m=_a.useImageUpload,useImageUpload=void 0===_m?{used:"NOT_USE"}:_m,_o=_a.dependencies,dependencies=void 0===_o?[]:_o,editorRef=_a.editorRef,_p=_a.url,url=void 0===_p?"":_p,_q=_a.hintText,hintText=void 0===_q?"":_q,characterCount=_a.characterCount,isDestructive=destructive?"destructive":"",hintTextState=hintText&&!characterCount?"only-hint-text":!hintText&&characterCount?"only-char-count":hintText&&characterCount?"has-both":"";return(0,jsx_runtime.jsxs)("div",{className:classnames_default()("cds-input cds-input--editor ".concat(className," ").concat(isDestructive)),children:[(0,jsx_runtime.jsx)("label",{className:classnames_default()("cds-input__label",{"is-required":required}),htmlFor:id,children:(0,jsx_runtime.jsx)("em",{className:classnames_default()("inquiry-contact-label"),children:label})}),(0,jsx_runtime.jsx)(reactSummernote_ReactSummernote,{id,disabled,callbacks:Editor_assign(Editor_assign({},callbacks),{onPaste:handlePaste}),contents,onInit:function(_a){var replace=_a.replace,summernote=_a.summernote,rest=__rest(_a,["replace","summernote"]);isCodeview&&(null==summernote||summernote.summernote("codeview.toggle")),null==onInit||onInit(Editor_assign({replace,summernote},rest))},onImageUpload:"USE"===useImageUpload.used?handleImageUpload(container,url):function(){return null},dependencies,options:Editor_assign(Editor_assign({},options),{width:null!==(_b=null==options?void 0:options.width)&&void 0!==_b?_b:768,height:null!==(_c=null==options?void 0:options.height)&&void 0!==_c?_c:300,toolbar:null!==(_d=null==options?void 0:options.toolbar)&&void 0!==_d?_d:initialToolbar("USE"===useImageUpload.used),dialogsInBody:!0,disableDragAndDrop:!1,codeviewFilter:!0,codeviewIframeFilter:!0}),ref:editorRef}),(hintText||characterCount)&&(0,jsx_runtime.jsxs)("div",{className:classnames_default()("cds-input__hint-text",hintTextState),children:[hintText&&(0,jsx_runtime.jsx)("p",{children:hintText}),characterCount&&(0,jsx_runtime.jsxs)("em",{children:[characterCount.currentCount," / ",characterCount.maxCount]})]})]})}));try{Editor.displayName="Editor",Editor.__docgenInfo={description:"",displayName:"Editor",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},required:{defaultValue:{value:"false"},description:"",name:"required",required:!1,type:{name:"boolean"}},hintText:{defaultValue:{value:""},description:"",name:"hintText",required:!1,type:{name:"string"}},characterCount:{defaultValue:null,description:"",name:"characterCount",required:!1,type:{name:"CharacterCountType"}},className:{defaultValue:{value:""},description:"",name:"className",required:!1,type:{name:"string"}},destructive:{defaultValue:{value:"false"},description:"",name:"destructive",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},contents:{defaultValue:{value:""},description:"",name:"contents",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:'(Omit<Options, "width"> & { width?: string | number; })'}},callbacks:{defaultValue:null,description:"",name:"callbacks",required:!1,type:{name:"SummernoteCallbacks"}},useImageUpload:{defaultValue:{value:"{ used: 'NOT_USE' }"},description:"",name:"useImageUpload",required:!1,type:{name:'{ used: "NOT_USE"; } | { used: "USE"; }'}},onInit:{defaultValue:null,description:"",name:"onInit",required:!1,type:{name:"((props: SummernoteInitProps) => void)"}},isCodeview:{defaultValue:{value:"false"},description:"",name:"isCodeview",required:!1,type:{name:"boolean"}},dependencies:{defaultValue:{value:"[]"},description:"",name:"dependencies",required:!1,type:{name:"DependencyList"}},editorRef:{defaultValue:null,description:"",name:"editorRef",required:!1,type:{name:"RefCallback<HTMLElement>"}},container:{defaultValue:{value:"storage-pub/commerce/editor"},description:"",name:"container",required:!1,type:{name:"string"}},url:{defaultValue:{value:""},description:"",name:"url",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/forms/editor/Editor.tsx#Editor"]={docgenInfo:Editor.__docgenInfo,name:"Editor",path:"src/components/forms/editor/Editor.tsx#Editor"})}catch(__react_docgen_typescript_loader_error){}var Editor_stories_assign=function(){return Editor_stories_assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},Editor_stories_assign.apply(this,arguments)};const Editor_stories={title:"Form/Editor",component:Editor};var Default=function(props){return(0,jsx_runtime.jsx)(Editor,Editor_stories_assign({},props))}.bind({});Default.args={},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"(props: EditorProps) => <Editor {...props} />",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"../api/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$S:()=>storageApiRequest});var axios__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/axios/lib/axios.js"),process=__webpack_require__("../../node_modules/process/browser.js"),storageApiRequest=(axios__WEBPACK_IMPORTED_MODULE_0__.A.create({baseURL:"".concat(process.env.NEXT_PUBLIC_DOMAIN_WEB_API),headers:{Version:"1.0","Content-Type":"application/json"},timeout:3e4,withCredentials:!0}),axios__WEBPACK_IMPORTED_MODULE_0__.A.create({baseURL:"".concat(process.env.NEXT_PUBLIC_STORAGE_WEB_API_URL),headers:{Version:"1.0","Content-Type":"application/json"},timeout:3e4,withCredentials:!0}));axios__WEBPACK_IMPORTED_MODULE_0__.A.create({baseURL:"".concat(process.env.NEXT_PUBLIC_DOMAIN_WEB_API),headers:{Version:"1.0","Content-Type":"application/json"},timeout:3e4,withCredentials:!0})}}]);